=== RUN   TestDockerAvailability
--- PASS: TestDockerAvailability (0.03s)
=== RUN   TestSmidrBuildIntegration
    build_integration_test.go:52: Build command failed (exit code != 0). Output:
        🔨 Starting Smidr build...
        
        📄 Loading configuration from smidr.yaml...
        ✅ Loaded project: yggdrasil
        
        📦 Fetching required layers...
        [14:16:52] INFO: Layer meta-openembedded already cached at /Users/schererja/src/github.com/schererja/smidr/sources/meta-openembedded
        [14:16:52] INFO: Layer poky already cached at /Users/schererja/src/github.com/schererja/smidr/sources/poky
        [14:16:56] INFO: Layer meta-toradex-nxp already cached at /Users/schererja/src/github.com/schererja/smidr/sources/meta-toradex-nxp
        [14:16:56] INFO: Layer meta-toradex-bsp-common already cached at /Users/schererja/src/github.com/schererja/smidr/sources/meta-toradex-bsp-common
        
        ✅ Successfully fetched 4 layers
           ♻️  meta-openembedded (cached)
           ♻️  poky (cached)
           ♻️  meta-toradex-nxp (cached)
           ♻️  meta-toradex-bsp-common (cached)
        
        Project: yggdrasil - Custom embedded Linux image
        🐳 Preparing container environment...
        🐳 Pulling container image...
        🐳 Creating container...
        🐳 Starting container...
        🚀 Build process would start here (not yet implemented)
        ✅ Build files generated successfully
        💡 Use 'smidr artifacts list' to view build artifacts once available
        🧹 Cleaning up container...
        Error during build: build step not yet implemented
        exit status 1
--- PASS: TestSmidrBuildIntegration (7.06s)
=== RUN   TestSmidrMountsAndLayers
    build_integration_test.go:116: Output:
        🔨 Starting Smidr build...
        
        📄 Loading configuration from smidr.yaml...
        ✅ Loaded project: yggdrasil
        
        📦 Fetching required layers...
        [14:16:59] INFO: Layer meta-openembedded already cached at /Users/schererja/src/github.com/schererja/smidr/sources/meta-openembedded
        [14:16:59] INFO: Layer meta-toradex-nxp already cached at /Users/schererja/src/github.com/schererja/smidr/sources/meta-toradex-nxp
        [14:16:59] INFO: Layer meta-toradex-bsp-common already cached at /Users/schererja/src/github.com/schererja/smidr/sources/meta-toradex-bsp-common
        [14:16:59] INFO: Layer poky already cached at /Users/schererja/src/github.com/schererja/smidr/sources/poky
        
        ✅ Successfully fetched 4 layers
           ♻️  meta-openembedded (cached)
           ♻️  meta-toradex-nxp (cached)
           ♻️  meta-toradex-bsp-common (cached)
           ♻️  poky (cached)
        
        Project: yggdrasil - Custom embedded Linux image
        🐳 Preparing container environment...
        🐳 Pulling container image...
        🐳 Creating container...
        🐳 Starting container...
        🚀 Build process would start here (not yet implemented)
        total 8
        drwxr-xr-x    3 root     root            96 Oct  8 21:16 .
        drwxr-xr-x    3 root     root          4096 Oct  8 21:17 ..
        -rw-r--r--    1 root     root             8 Oct  8 21:16 layer-info.txt
        ✅ Build files generated successfully
        💡 Use 'smidr artifacts list' to view build artifacts once available
        🧹 Cleaning up container...
        Error during build: build step not yet implemented
        exit status 1
--- PASS: TestSmidrMountsAndLayers (3.58s)
PASS
ok  	command-line-arguments	11.010s
